<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<app-header></app-header>

<table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

  <!-- Position Column -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>
      No.
    </th>
    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
  </ng-container>

  <!-- Client Column -->
  <ng-container matColumnDef="client">
    <th mat-header-cell *matHeaderCellDef mat-sort-header >
      Client
    </th>
    <td mat-cell *matCellDef="let element"> {{element.client.name}} </td>
  </ng-container>

  <!-- Price Column -->
  <ng-container matColumnDef="price">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>
      Price
    </th>
    <td mat-cell *matCellDef="let element"> {{element.price}} </td>
  </ng-container>

  <!-- Address Column -->
  <ng-container matColumnDef="address">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>
      Address
    </th>
    <td mat-cell *matCellDef="let element"> <a href={{element.addresses.url}}>{{element.addresses.name}}</a> </td>
  </ng-container>

    <!-- Cellphone Column -->
    <ng-container matColumnDef="cellphone">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        Cellphone
      </th>
      <td mat-cell *matCellDef="let element"> {{element.client.phone}} </td>
    </ng-container>


     <!-- comments Column -->
     <ng-container matColumnDef="comments">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        Comments
      </th>
      <td mat-cell *matCellDef="let element"> {{element.comments}} </td>
    </ng-container>

   <!-- Status Column -->
   <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>
      Status
    </th>
    <td mat-cell *matCellDef="let element">
      <button mat-icon-button [class]="isDisabled(element.status,'CREATED')"  (click)="onClickStatus(element.status,'CREATED',element)" #CREATED>
        <mat-icon  style="cursor: pointer;" >fiber_new</mat-icon>
     </button>
     <button mat-icon-button [class]="isDisabled(element.status,'PREPARED')"  (click)="onClickStatus(element.status,'PREPARED',element)" #PREPARED>
      <mat-icon  style="cursor: pointer;" >done</mat-icon>
   </button>
   <button mat-icon-button [class]="isDisabled(element.status,'SEND')"  (click)="onClickStatus(element.status,'SEND',element)" #SEND>
    <mat-icon style="cursor: pointer;" >directions_car</mat-icon>
 </button>
 <button mat-icon-button [class]="isDisabled(element.status,'DELIVERED')"  (click)="onClickStatus(element.status,'DELIVERED',element)" #DELIVERED>
  <mat-icon style="cursor: pointer;" >person</mat-icon>
</button>
<button mat-icon-button [class]="isDisabled(element.status,'CLOSED')" (click)="onClickStatus(element.status,'CLOSED',element)" #CLOSED>
  <mat-icon  style="cursor: pointer;" >done_all</mat-icon>
</button>
<button mat-icon-button  (click)="onClickStatus(element.status,'CANCELLED',element)" #CANCELLED>
  <mat-icon color="warn" style="cursor: pointer;" >cancel</mat-icon>
</button>


      <!-- {{element.status}} -->
    </td>
  </ng-container>




  <ng-container matColumnDef="edit">
    <th mat-header-cell  *matHeaderCellDef >  </th>
    <td mat-cell *matCellDef="let element" >
      <button mat-button [routerLink]="['/addorder',element.id]" >
        <mat-icon>info</mat-icon>
    </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
<button mat-button [routerLink]="['/addorder',0]" class="add">
  <mat-icon>add</mat-icon>
</button>

